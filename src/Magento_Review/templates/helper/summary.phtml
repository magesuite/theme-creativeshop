<?php
// @codingStandardsIgnoreFile
$reviewsCount = $block->getReviewsCount();
$ratingSummary = $block->getRatingSummary();
if (is_object($ratingSummary)) {
    $reviewsCount = $ratingSummary->getReviewsCount();
    $ratingSummary = $ratingSummary->getRatingSummary();
}
?>
<?php if ($reviewsCount): ?>

        <?php
            // Transforms rating summary (0..100) into star count (0..5, with a step of a 0.5)
            $activeStars = round($ratingSummary / 10) / 2;

            echo $this->getLayout()
                    ->createBlock(\Magento\Framework\View\Element\Template::class)
                    ->setMaxStars(5)
                    ->setActiveStars($activeStars)
                    ->setReviewsCount($reviewsCount)
                    ->setHideReviewsCount(false)
                    ->setShowNumericalScore($block->getShowNumericalScore())
                    ->setTemplate('Magento_Review::rating-stars.phtml')
                    ->toHtml();
        ?>

<?php elseif ($block->getDisplayIfEmpty()): ?>

    <div class="cs-buybox__no-review">
        <a class="cs-buybox__no-review-link" href="#reviews"><?= /* @escapeNotVerified */ __('Be the first to review this product'); ?></a>
    </div>

<?php endif; ?>
