<!--
/**
 * Template has to be overriden in order to always show "Edit cart link" and in order to remove collapse
 * Also modal is moved from sidebar.html template
 * Aligned with Magento 2.4.7 in 04/2024
 */
-->
<div
id="opc-sidebar"
class="cs-checkout__summary-wrapper"
data-bind="afterRender:setModalElement, mageInit: {
        'Magento_Ui/js/modal/modal':{
            'type': 'custom',
            'modalClass': 'opc-summary-wrapper',
            'wrapperClass': 'cs-checkout__sidebar-inner',
            'parentModalClass': '_has-modal-custom',
            'responsive': true,
            'responsiveClass': 'custom-slide',
            'overlayClass': 'modal-custom-overlay',
            'buttons': []
        }
    }"
>
    <div class="block items-in-cart">
        <div class="title" data-role="title">
            <strong role="heading">
                <translate args="maxCartItemsToDisplay" if="maxCartItemsToDisplay < getCartLineItemsCount()"></translate>
                <translate args="'of'" if="maxCartItemsToDisplay < getCartLineItemsCount()"></translate>
                <span data-bind="text: getCartSummaryItemsCount().toLocaleString(window.LOCALE)"></span>
                <translate args="'Item in Cart'" if="getCartSummaryItemsCount() === 1"></translate>
                <translate args="'Items in Cart'" if="getCartSummaryItemsCount() > 1"></translate>
            </strong>
        </div>
        <div class="content minicart-items" data-role="content">
            <div class="minicart-items-wrapper overflowed">
                <ol class="minicart-items">
                    <each args="items()">
                        <li class="product-item">
                            <div class="product">
                                <each args="$parent.elems()" render=""></each>
                            </div>
                        </li>
                    </each>
                </ol>
            </div>
        </div>
        <div class="actions-toolbar">
            <div class="secondary">
                <a class="action viewcart" data-bind="attr: {href: cartUrl}">
                    <span data-bind="i18n: 'Edit'"></span>
                </a>
            </div>
        </div>
    </div>
</div>
