<?php
/**
 * Template overridden to:
 * - add xml configuration (etc/view.xml) with possibility to hide some toolbar elements
 *
 * Aligned with Magento 2.4.6 at 04/2023
 */
?>
<?php
/**
 * Product list toolbar
 *
 * @var $block \Magento\Catalog\Block\Product\ProductList\Toolbar
 */
?>
<?php if ($block->getCollection()->getSize()) :?>
    <?php $widget = $this->helper(\Magento\Framework\Json\Helper\Data::class)->jsonDecode($block->getWidgetOptionsJson());
        $widgetOptions = $this->helper(\Magento\Framework\Json\Helper\Data::class)->jsonEncode($widget['productListToolbarForm']);
    ?>
    <div
        class="toolbar toolbar-products cs-toolbar <?= $block->getAdditionalCssClasses() ?>"
        data-mage-init='<?= /* @noEscape */ $widgetOptions ?>'
    >
        <?= $block->getChildHtml('hotspot.after.toolbar.start')?>

        <?php if ($block->getVar('toolbar/filters_offcanvas_button/display', 'Magento_Catalog')): ?>
            <div class="cs-toolbar__item cs-toolbar__item--offcanvas">
                <?= $block->fetchView($block->getTemplateFile('Magento_Catalog::product/list/toolbar/filters-button.phtml')); ?>
            </div>
        <?php endif; ?>
        <?php if ($block->getVar('toolbar/amount/display', 'Magento_Catalog')): ?>
            <div class="cs-toolbar__item cs-toolbar__item--amount">
                <?= $block->fetchView($block->getTemplateFile('Magento_Catalog::product/list/toolbar/amount.phtml')); ?>
            </div>
        <?php endif; ?>
        <?php if ($block->isExpanded() && $block->getVar('toolbar/sorter/display', 'Magento_Catalog')): ?>
            <div class="cs-toolbar__item cs-toolbar__item--sorter">
                <?= $block->fetchView($block->getTemplateFile('Magento_Catalog::product/list/toolbar/sorter.phtml')); ?>
            </div>
        <?php endif; ?>
        <?php if ($block->getVar('toolbar/limiter/display', 'Magento_Catalog')): ?>
            <div class="cs-toolbar__item cs-toolbar__item--limiter">
                <?= $block->fetchView($block->getTemplateFile('Magento_Catalog::product/list/toolbar/limiter.phtml')); ?>
            </div>
        <?php endif; ?>
        <?php if ($block->isExpanded() && $block->getVar('toolbar/viewmode_switcher/display', 'Magento_Catalog')): ?>
            <div class="cs-toolbar__item cs-toolbar__item--viewmode-switcher">
                <?= $block->fetchView($block->getTemplateFile('Magento_Catalog::product/list/toolbar/viewmode.phtml')); ?>
            </div>
        <?php endif; ?>
        <?php if ($block->getVar('toolbar/pagination/display', 'Magento_Theme')): ?>
            <div class="cs-toolbar__item cs-toolbar__item--pagination">
                <?= $block->getPagerHtml(); ?>
            </div>
        <?php endif; ?>

        <?= $block->getChildHtml('hotspot.before.toolbar.end')?>
    </div>
<?php endif ?>
